<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Wallet - Secure QRC Wallet</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
        }

        .animated-bg {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
            opacity: 0.3;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #00ff88;
            border-radius: 50%;
            filter: blur(1px);
            animation: float 20s infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) translateX(100px); opacity: 0; }
        }

        .container {
            width: 100%;
            max-width: 480px;
            background: rgba(20, 20, 20, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .logo {
            text-align: center;
            margin-bottom: 30px;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .logo-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #00ff88, #00cc66);
            border-radius: 20px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            margin-bottom: 16px;
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.3);
        }

        h1 {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #ffffff, #cccccc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            color: #999;
            font-size: 16px;
            margin-bottom: 40px;
        }

        .input-group {
            margin-bottom: 24px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 500;
            color: #cccccc;
        }

        input {
            width: 100%;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            font-size: 16px;
            color: #ffffff;
            transition: all 0.3s ease;
            font-family: 'Space Grotesk', sans-serif;
            autocomplete: off;
        }

        input:focus {
            outline: none;
            border-color: #00ff88;
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0, 255, 136, 0.2);
        }

        input::placeholder {
            color: #666;
        }

        .button {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #00ff88, #00cc66);
            color: #000000;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.3);
        }

        .button:active {
            transform: translateY(0);
        }

        .button-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            backdrop-filter: blur(10px);
        }

        .button-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.1);
        }

        .link {
            color: #00ff88;
            text-decoration: none;
            font-weight: 500;
            transition: opacity 0.3s ease;
        }

        .link:hover {
            opacity: 0.8;
        }

        .divider {
            text-align: center;
            margin: 30px 0;
            position: relative;
        }

        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
        }

        .divider span {
            background: rgba(20, 20, 20, 0.95);
            padding: 0 20px;
            position: relative;
            color: #666;
            font-size: 14px;
        }

        .form-footer {
            text-align: center;
            margin-top: 30px;
            font-size: 14px;
            color: #999;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 24px;
            background: rgba(20, 20, 20, 0.95);
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
            animation: slideInRight 0.3s ease-out;
            z-index: 1000;
            max-width: 400px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .notification.success {
            border-color: #00ff88;
        }

        .notification.error {
            border-color: #ff3333;
        }

        .wallet-container {
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .wallet-header {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .wallet-header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 255, 136, 0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .address-display {
            font-family: 'Courier New', monospace;
            font-size: 12px;
            color: #00ff88;
            word-break: break-all;
            margin: 10px 0;
            padding: 10px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 8px;
            position: relative;
            z-index: 1;
        }

        .balance-display {
            text-align: center;
            margin: 30px 0;
            padding: 30px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .balance-label {
            font-size: 14px;
            color: #999;
            margin-bottom: 8px;
        }

        .balance-amount {
            font-size: 36px;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 8px;
        }

        .balance-usd {
            font-size: 16px;
            color: #666;
        }

        .wallet-actions {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 30px;
        }

        .action-button {
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: #ffffff;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .action-button:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .action-button span:first-child {
            font-size: 24px;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: rgba(20, 20, 20, 0.98);
            border-radius: 24px;
            padding: 40px;
            max-width: 480px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
        }

        .close-button {
            background: none;
            border: none;
            color: #999;
            font-size: 28px;
            cursor: pointer;
            transition: color 0.3s ease;
            line-height: 1;
        }

        .close-button:hover {
            color: #ffffff;
        }

        .qr-container {
            text-align: center;
            padding: 20px;
            background: #ffffff;
            border-radius: 16px;
            margin: 20px 0;
        }

        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            padding: 4px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }

        .tab {
            flex: 1;
            padding: 12px;
            background: transparent;
            border: none;
            border-radius: 8px;
            color: #999;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: rgba(0, 255, 136, 0.1);
            color: #00ff88;
        }

        .tab:hover:not(.active) {
            color: #ffffff;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }

        .transaction-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .transaction-item {
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 16px;
            transition: all 0.3s ease;
        }

        .transaction-item:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateX(4px);
        }

        .transaction-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .transaction-icon.sent {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
        }

        .transaction-icon.received {
            background: rgba(0, 255, 136, 0.2);
            color: #00ff88;
        }

        .transaction-details {
            flex: 1;
        }

        .transaction-type {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .transaction-address {
            font-size: 12px;
            color: #666;
            font-family: 'Courier New', monospace;
        }

        .transaction-amount {
            text-align: right;
        }

        .transaction-value {
            font-weight: 600;
            font-size: 16px;
        }

        .transaction-value.positive {
            color: #00ff88;
        }

        .transaction-value.negative {
            color: #ff6b6b;
        }

        .transaction-usd {
            font-size: 12px;
            color: #666;
            margin-top: 4px;
        }

        .security-info {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 24px;
        }

        .security-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .security-item:last-child {
            border-bottom: none;
        }

        .security-label {
            color: #999;
        }

        .security-value {
            color: #00ff88;
            font-weight: 500;
        }

        .two-fa-input {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 8px;
            margin: 20px 0;
        }

        .two-fa-input input {
            text-align: center;
            font-size: 20px;
            font-weight: 600;
            padding: 12px 8px;
        }

        .seed-phrase-input {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin: 20px 0;
        }

        .seed-input {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 8px 12px;
            transition: all 0.3s ease;
        }

        .seed-input span {
            color: #666;
            font-size: 12px;
            margin-right: 8px;
            min-width: 20px;
        }

        .seed-input input {
            background: transparent;
            border: none;
            padding: 4px;
            width: 100%;
            font-size: 14px;
        }

        .seed-input:focus-within {
            border-color: #00ff88;
            background: rgba(255, 255, 255, 0.08);
            transform: scale(1.05);
        }

        .password-strength {
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            margin-top: 8px;
            overflow: hidden;
        }

        .password-strength-bar {
            height: 100%;
            transition: all 0.3s ease;
            border-radius: 2px;
        }

        .strength-weak {
            width: 33%;
            background: #ff6b6b;
        }

        .strength-medium {
            width: 66%;
            background: #ffa500;
        }

        .strength-strong {
            width: 100%;
            background: #00ff88;
        }

        .wallet-connect-btn {
            width: 100%;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: #ffffff;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .wallet-connect-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .wallet-connect-btn svg {
            width: 24px;
            height: 24px;
        }

        .import-tab-content {
            display: none;
        }

        .tab-buttons {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            padding: 4px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }

        .tab-button {
            flex: 1;
            padding: 12px;
            background: transparent;
            border: none;
            border-radius: 8px;
            color: #999;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab-button.active {
            background: rgba(0, 255, 136, 0.1);
            color: #00ff88;
        }

        @media (max-width: 640px) {
            .container {
                margin: 20px;
                padding: 30px 20px;
            }

            .wallet-actions {
                grid-template-columns: 1fr;
            }

            .balance-amount {
                font-size: 28px;
            }

            .seed-phrase-input {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="animated-bg" id="animatedBg"></div>

    <div class="container">
        <!-- Login Screen -->
        <div id="loginScreen">
            <div class="logo">
                <div class="logo-icon">🔐</div>
                <h1>Quantum Wallet</h1>
                <p class="subtitle">Secure Quantum-Resistant Blockchain</p>
            </div>

            <div id="loginForm">
                <div class="input-group">
                    <label for="walletAddress">Wallet Address</label>
                    <input type="text" id="walletAddress" placeholder="Enter your QRC wallet address" autocomplete="off">
                </div>

                <div class="input-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Enter your password" autocomplete="off">
                </div>

                <div class="input-group">
                    <label for="2fa">Google Authenticator Code</label>
                    <div class="two-fa-input">
                        <input type="text" id="2fa1" maxlength="1" pattern="\d" autocomplete="off">
                        <input type="text" id="2fa2" maxlength="1" pattern="\d" autocomplete="off">
                        <input type="text" id="2fa3" maxlength="1" pattern="\d" autocomplete="off">
                        <input type="text" id="2fa4" maxlength="1" pattern="\d" autocomplete="off">
                        <input type="text" id="2fa5" maxlength="1" pattern="\d" autocomplete="off">
                        <input type="text" id="2fa6" maxlength="1" pattern="\d" autocomplete="off">
                    </div>
                </div>

                <button class="button" onclick="login()">
                    <span>🔓</span>
                    <span>Login to Wallet</span>
                </button>

                <div class="divider">
                    <span>OR</span>
                </div>

                <button class="button button-secondary" onclick="showCreateWallet()">
                    <span>✨</span>
                    <span>Create New Wallet</span>
                </button>

                <button class="button button-secondary" onclick="showImportWallet()">
                    <span>📥</span>
                    <span>Import Existing Wallet</span>
                </button>
            </div>

            <!-- Create Wallet Form -->
            <div id="createWalletForm" style="display: none;">
                <div class="input-group">
                    <label for="newPassword">Create Password</label>
                    <input type="password" id="newPassword" placeholder="Minimum 8 characters" autocomplete="off">
                    <div class="password-strength">
                        <div id="passwordStrengthBar" class="password-strength-bar"></div>
                    </div>
                </div>

                <div class="input-group">
                    <label for="confirmPassword">Confirm Password</label>
                    <input type="password" id="confirmPassword" placeholder="Re-enter your password" autocomplete="off">
                </div>

                <button class="button" onclick="createWallet()">
                    <span>✨</span>
                    <span>Generate Quantum Wallet</span>
                </button>

                <button class="button button-secondary" onclick="backToLogin()">
                    <span>←</span>
                    <span>Back to Login</span>
                </button>
            </div>

            <!-- Import Wallet Form -->
            <div id="importWalletForm" style="display: none;">
                <div class="tab-buttons">
                    <button class="tab-button active" onclick="showImportTab('code', this)">Import with Code</button>
                    <button class="tab-button" onclick="showImportTab('seed', this)">Import with Seed Phrase</button>
                </div>

                <!-- Import with Code Tab -->
                <div id="importCodeTab" class="import-tab-content" style="display: block;">
                    <div class="input-group">
                        <label for="importCode">Import Code</label>
                        <input type="text" id="importCode" placeholder="Enter your wallet import code" autocomplete="off">
                    </div>

                    <div class="input-group">
                        <label for="importCodePassword">Password</label>
                        <input type="password" id="importCodePassword" placeholder="Enter your password" autocomplete="off">
                    </div>

                    <div class="input-group">
                        <label for="importCode2FA">Google Authenticator Code</label>
                        <div class="two-fa-input">
                            <input type="text" id="importCode1" maxlength="1" pattern="\d" autocomplete="off">
                            <input type="text" id="importCode2" maxlength="1" pattern="\d" autocomplete="off">
                            <input type="text" id="importCode3" maxlength="1" pattern="\d" autocomplete="off">
                            <input type="text" id="importCode4" maxlength="1" pattern="\d" autocomplete="off">
                            <input type="text" id="importCode5" maxlength="1" pattern="\d" autocomplete="off">
                            <input type="text" id="importCode6" maxlength="1" pattern="\d" autocomplete="off">
                        </div>
                    </div>

                    <button class="button" onclick="importWithCode()">
                        <span>📥</span>
                        <span>Import Wallet</span>
                    </button>
                </div>

                <!-- Import with Seed Tab -->
                <div id="importSeedTab" class="import-tab-content">
                    <div class="input-group">
                        <label>24-Word Seed Phrase</label>
                        <div class="seed-phrase-input">
                            <div class="seed-input">
                                <span>1.</span>
                                <input type="text" id="seed1" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>2.</span>
                                <input type="text" id="seed2" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>3.</span>
                                <input type="text" id="seed3" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>4.</span>
                                <input type="text" id="seed4" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>5.</span>
                                <input type="text" id="seed5" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>6.</span>
                                <input type="text" id="seed6" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>7.</span>
                                <input type="text" id="seed7" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>8.</span>
                                <input type="text" id="seed8" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>9.</span>
                                <input type="text" id="seed9" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>10.</span>
                                <input type="text" id="seed10" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>11.</span>
                                <input type="text" id="seed11" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>12.</span>
                                <input type="text" id="seed12" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>13.</span>
                                <input type="text" id="seed13" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>14.</span>
                                <input type="text" id="seed14" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>15.</span>
                                <input type="text" id="seed15" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>16.</span>
                                <input type="text" id="seed16" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>17.</span>
                                <input type="text" id="seed17" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>18.</span>
                                <input type="text" id="seed18" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>19.</span>
                                <input type="text" id="seed19" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>20.</span>
                                <input type="text" id="seed20" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>21.</span>
                                <input type="text" id="seed21" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>22.</span>
                                <input type="text" id="seed22" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>23.</span>
                                <input type="text" id="seed23" placeholder="word" autocomplete="off">
                            </div>
                            <div class="seed-input">
                                <span>24.</span>
                                <input type="text" id="seed24" placeholder="word" autocomplete="off">
                            </div>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="importSeedPassword">Password</label>
                        <input type="password" id="importSeedPassword" placeholder="Enter your password" autocomplete="off">
                    </div>

                    <div class="input-group">
                        <label for="importSeed2FA">Google Authenticator Code</label>
                        <div class="two-fa-input">
                            <input type="text" id="importSeedCode1" maxlength="1" pattern="\d" autocomplete="off">
                            <input type="text" id="importSeedCode2" maxlength="1" pattern="\d" autocomplete="off">
                            <input type="text" id="importSeedCode3" maxlength="1" pattern="\d" autocomplete="off">
                            <input type="text" id="importSeedCode4" maxlength="1" pattern="\d" autocomplete="off">
                            <input type="text" id="importSeedCode5" maxlength="1" pattern="\d" autocomplete="off">
                            <input type="text" id="importSeedCode6" maxlength="1" pattern="\d" autocomplete="off">
                        </div>
                    </div>

                    <button class="button" onclick="importWithSeedPhrase()">
                        <span>📥</span>
                        <span>Import Wallet</span>
                    </button>
                </div>

                <button class="button button-secondary" onclick="backToLogin()">
                    <span>←</span>
                    <span>Back to Login</span>
                </button>
            </div>
        </div>

        <!-- Wallet Screen -->
        <div id="walletScreen" style="display: none;" class="wallet-container">
            <div class="wallet-header">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h2 style="font-size: 20px; margin-bottom: 8px;">Quantum Wallet</h2>
                        <div class="address-display" id="addressDisplay">Loading...</div>
                    </div>
                    <div style="display: flex; gap: 12px;">
                        <button class="action-button" onclick="showQRModal()" title="Show QR Code" style="width: 48px; height: 48px; padding: 0;">
                            <span>📱</span>
                        </button>
                        <button class="action-button" onclick="copyAddress()" title="Copy Address" style="width: 48px; height: 48px; padding: 0;">
                            <span>📋</span>
                        </button>
                        <button class="action-button" onclick="logout()" title="Logout" style="width: 48px; height: 48px; padding: 0;">
                            <span>🚪</span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="balance-display">
                <div class="balance-label">Total Balance</div>
                <div class="balance-amount" id="balanceAmount">0.00 QRC</div>
                <div class="balance-usd" id="balanceUSD">≈ $0.00 USD</div>
            </div>

            <div class="tabs">
                <button class="tab active" onclick="showTab('wallet', this)">Wallet</button>
                <button class="tab" onclick="showTab('activity', this)">Activity</button>
                <button class="tab" onclick="showTab('security', this)">Security</button>
            </div>

            <div id="walletTab" class="tab-content active">
                <div class="wallet-actions">
                    <button class="action-button" onclick="showSendModal()">
                        <span>📤</span>
                        <span>Send</span>
                    </button>
                    <button class="action-button" onclick="showReceiveModal()">
                        <span>📥</span>
                        <span>Receive</span>
                    </button>
                    <button class="action-button" onclick="getFaucet()">
                        <span>💧</span>
                        <span>Faucet</span>
                    </button>
                </div>
            </div>

            <div id="activityTab" class="tab-content">
                <div class="transaction-list" id="transactionList">
                    <p style="text-align: center; color: #666; padding: 40px;">No transactions yet</p>
                </div>
            </div>

            <div id="securityTab" class="tab-content">
                <div class="security-info">
                    <div class="security-item">
                        <span class="security-label">Encryption</span>
                        <span class="security-value">Quantum-Resistant</span>
                    </div>
                    <div class="security-item">
                        <span class="security-label">Algorithm</span>
                        <span class="security-value">Dilithium3</span>
                    </div>
                    <div class="security-item">
                        <span class="security-label">Two-Factor</span>
                        <span class="security-value">Enabled</span>
                    </div>
                    <div class="security-item">
                        <span class="security-label">Last Login</span>
                        <span class="security-value" id="lastLogin">Just now</span>
                    </div>
                </div>

                <button class="button button-secondary" onclick="exportWallet()">
                    <span>📤</span>
                    <span>Export Wallet</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="sendModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Send QRC</h3>
                <button class="close-button" onclick="closeModal('sendModal')">×</button>
            </div>

            <div class="input-group">
                <label for="recipientAddress">Recipient Address</label>
                <input type="text" id="recipientAddress" placeholder="Enter recipient's QRC address" autocomplete="off">
            </div>

            <div class="input-group">
                <label for="sendAmount">Amount</label>
                <input type="number" id="sendAmount" placeholder="0.00" step="0.01" min="0" autocomplete="off">
            </div>

            <div class="input-group">
                <label for="sendPassword">Password</label>
                <input type="password" id="sendPassword" placeholder="Enter your password" autocomplete="off">
            </div>

            <div class="input-group">
                <label for="transaction2FA">Google Authenticator Code</label>
                <div class="two-fa-input">
                    <input type="text" id="transaction2FA1" maxlength="1" pattern="\d" autocomplete="off">
                    <input type="text" id="transaction2FA2" maxlength="1" pattern="\d" autocomplete="off">
                    <input type="text" id="transaction2FA3" maxlength="1" pattern="\d" autocomplete="off">
                    <input type="text" id="transaction2FA4" maxlength="1" pattern="\d" autocomplete="off">
                    <input type="text" id="transaction2FA5" maxlength="1" pattern="\d" autocomplete="off">
                    <input type="text" id="transaction2FA6" maxlength="1" pattern="\d" autocomplete="off">
                </div>
            </div>

            <button class="button" onclick="sendTransaction()">
                <span>📤</span>
                <span>Send Transaction</span>
            </button>
        </div>
    </div>

    <div id="receiveModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Receive QRC</h3>
                <button class="close-button" onclick="closeModal('receiveModal')">×</button>
            </div>

            <div class="qr-container" id="receiveQrcode"></div>
            
            <div class="address-display" id="receiveAddress" style="margin: 20px 0;">Loading...</div>

            <button class="button button-secondary" onclick="copyAddress()">
                <span>📋</span>
                <span>Copy Address</span>
            </button>
        </div>
    </div>

    <div id="qrModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Wallet QR Code</h3>
                <button class="close-button" onclick="closeModal('qrModal')">×</button>
            </div>

            <div class="qr-container" id="qrcode"></div>
            
            <div class="address-display" id="qrAddress" style="margin: 20px 0;">Loading...</div>

            <button class="button button-secondary" onclick="copyAddress()">
                <span>📋</span>
                <span>Copy Address</span>
            </button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script>
        // Global state
        let walletState = {
            address: '',
            balance: 0,
            transactions: [],
            activityLog: []
        };

        let qrcode = null;
        let receiveQrcode = null;

        // Initialize background animation
        function initBackground() {
            const bg = document.getElementById('animatedBg');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (15 + Math.random() * 10) + 's';
                bg.appendChild(particle);
            }
        }

        // 2FA input handling
        function setupTwoFAInputs() {
            const setupGroup = (prefix, count = 6) => {
                for (let i = 1; i <= count; i++) {
                    const input = document.getElementById(prefix + i);
                    if (!input) continue;
                    
                    input.addEventListener('input', function(e) {
                        if (e.target.value.length === 1 && i < count) {
                            document.getElementById(prefix + (i + 1))?.focus();
                        }
                    });
                    
                    input.addEventListener('keydown', function(e) {
                        if (e.key === 'Backspace' && e.target.value === '' && i > 1) {
                            document.getElementById(prefix + (i - 1))?.focus();
                        }
                    });
                }
            };
            
            setupGroup('2fa');
            setupGroup('importCode');
            setupGroup('importSeedCode');
            setupGroup('transaction2FA');
        }

        // Password strength checker
        function checkPasswordStrength(password) {
            const strengthBar = document.getElementById('passwordStrengthBar');
            if (!strengthBar) return;
            
            let strength = 0;
            if (password.length >= 8) strength++;
            if (password.match(/[a-z]/) && password.match(/[A-Z]/)) strength++;
            if (password.match(/[0-9]/)) strength++;
            if (password.match(/[^a-zA-Z0-9]/)) strength++;
            
            strengthBar.className = 'password-strength-bar';
            if (strength <= 1) {
                strengthBar.classList.add('strength-weak');
            } else if (strength === 2) {
                strengthBar.classList.add('strength-medium');
            } else {
                strengthBar.classList.add('strength-strong');
            }
        }

        // Navigation functions
        function showCreateWallet() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('createWalletForm').style.display = 'block';
            document.getElementById('importWalletForm').style.display = 'none';
        }

        function showImportWallet() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('createWalletForm').style.display = 'none';
            document.getElementById('importWalletForm').style.display = 'block';
        }

        function backToLogin() {
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('createWalletForm').style.display = 'none';
            document.getElementById('importWalletForm').style.display = 'none';
        }

        function showImportTab(tabName, element) {
            document.querySelectorAll('#importWalletForm .tab-button').forEach(tab => {
                tab.classList.remove('active');
            });
            element.classList.add('active');
            
            document.querySelectorAll('.import-tab-content').forEach(content => {
                content.style.display = 'none';
            });
            
            if (tabName === 'code') {
                document.getElementById('importCodeTab').style.display = 'block';
            } else {
                document.getElementById('importSeedTab').style.display = 'block';
            }
        }

        // Notification system
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <span style="font-size: 20px;">${type === 'success' ? '✓' : '⚠️'}</span>
                <span>${message}</span>
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        function showError(message) {
            showNotification(message, 'error');
        }

        function showSuccess(message) {
            showNotification(message, 'success');
        }

        // Auth functions
        async function login() {
            const address = document.getElementById('walletAddress').value;
            const password = document.getElementById('password').value;
            
            if (!address) {
                showError('Please enter your wallet address');
                return;
            }
            
            if (password.length < 8) {
                showError('Password must be at least 8 characters');
                return;
            }
            
            let twoFACode = '';
            for (let i = 1; i <= 6; i++) {
                twoFACode += document.getElementById(`2fa${i}`).value;
            }
            
            if (twoFACode.length !== 6) {
                showError('Please enter the complete 6-digit Google Authenticator code');
                return;
            }
            
            try {
                const response = await fetch('/api/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ address, password, twoFA: twoFACode })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    walletState.address = address;
                    walletState.balance = data.balance || 0;
                    showWallet();
                    addActivity('login', 'Login', { device: navigator.userAgent });
                    showSuccess('Welcome back!');
                } else {
                    showError(data.error || 'Login failed');
                }
            } catch (error) {
                console.error('Login error:', error);
                showError('Network error. Please try again.');
            }
        }

        async function createWallet() {
            const password = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (password.length < 8) {
                showError('Password must be at least 8 characters');
                return;
            }
            
            if (password !== confirmPassword) {
                showError('Passwords do not match');
                return;
            }
            
            try {
                const response = await fetch('/api/create-wallet', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ password })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    walletState.address = data.address;
                    walletState.balance = 0;
                    showWallet();
                    addActivity('security', 'Wallet Created', { message: 'New wallet generated' });
                    showSuccess('Wallet created successfully!');
                    
                    // Show seed phrase modal or download backup
                    alert(`Important: Save your seed phrase:\n\n${data.seedPhrase}\n\nStore this securely!`);
                } else {
                    showError(data.error || 'Failed to create wallet');
                }
            } catch (error) {
                console.error('Create wallet error:', error);
                showError('Network error. Please try again.');
            }
        }

        function importWithCode() {
            const importCode = document.getElementById('importCode').value;
            const password = document.getElementById('importCodePassword').value;
            
            if (!importCode) {
                showError('Please enter your import code');
                return;
            }
            
            if (password.length < 8) {
                showError('Password must be at least 8 characters');
                return;
            }
            
            let twoFACode = '';
            for (let i = 1; i <= 6; i++) {
                twoFACode += document.getElementById(`importCode${i}`).value;
            }
            
            if (twoFACode.length !== 6) {
                showError('Please enter the complete 6-digit Google Authenticator code');
                return;
            }
            
            // Import logic here
            showSuccess('Wallet imported successfully! Please login.');
            setTimeout(() => backToLogin(), 2000);
        }

        function importWithSeedPhrase() {
            const seedWords = [];
            for (let i = 1; i <= 24; i++) {
                const word = document.getElementById(`seed${i}`).value.trim().toLowerCase();
                if (!word) {
                    showError(`Please enter word ${i} of your seed phrase`);
                    document.getElementById(`seed${i}`).focus();
                    return;
                }
                seedWords.push(word);
            }
            
            const password = document.getElementById('importSeedPassword').value;
            
            if (password.length < 8) {
                showError('Password must be at least 8 characters');
                return;
            }
            
            let twoFACode = '';
            for (let i = 1; i <= 6; i++) {
                twoFACode += document.getElementById(`importSeedCode${i}`).value;
            }
            
            if (twoFACode.length !== 6) {
                showError('Please enter the complete 6-digit Google Authenticator code');
                return;
            }
            
            // Import logic here
            showSuccess('Wallet imported successfully! Please login.');
            setTimeout(() => backToLogin(), 2000);
        }

        function logout() {
            addActivity('login', 'Logout', { device: navigator.userAgent });
            walletState = { address: '', balance: 0, transactions: [], activityLog: [] };
            document.getElementById('loginScreen').style.display = 'block';
            document.getElementById('walletScreen').style.display = 'none';
            backToLogin();
            showSuccess('Logged out successfully');
        }

        // Wallet functions
        function showWallet() {
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('walletScreen').style.display = 'block';
            
            updateWalletDisplay();
            loadTransactions();
            loadActivityHistory();
        }

        function updateWalletDisplay() {
            document.getElementById('addressDisplay').textContent = walletState.address;
            document.getElementById('balanceAmount').textContent = `${walletState.balance.toFixed(2)} QRC`;
            document.getElementById('balanceUSD').textContent = `≈ $${(walletState.balance * 0.001).toFixed(2)} USD`;
        }

        function showTab(tabName, element) {
            document.querySelectorAll('.tabs .tab').forEach(tab => {
                tab.classList.remove('active');
            });
            element.classList.add('active');
            
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            document.getElementById(tabName + 'Tab').classList.add('active');
            
            if (tabName === 'activity') {
                loadActivityHistory();
            }
        }

        // Transaction functions
        async function sendTransaction() {
            const recipient = document.getElementById('recipientAddress').value;
            const amount = parseFloat(document.getElementById('sendAmount').value);
            const password = document.getElementById('sendPassword').value;
            
            if (!recipient) {
                showError('Please enter recipient address');
                return;
            }
            
            if (!amount || amount <= 0) {
                showError('Please enter a valid amount');
                return;
            }
            
            if (amount > walletState.balance) {
                showError('Insufficient balance');
                return;
            }
            
            if (password.length < 8) {
                showError('Please enter your password');
                return;
            }
            
            let twoFACode = '';
            for (let i = 1; i <= 6; i++) {
                twoFACode += document.getElementById(`transaction2FA${i}`).value;
            }
            
            if (twoFACode.length !== 6) {
                showError('Please enter the complete 6-digit Google Authenticator code');
                return;
            }
            
            try {
                const response = await fetch('/api/send', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        from: walletState.address,
                        to: recipient,
                        amount,
                        password,
                        twoFA: twoFACode
                    })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    walletState.balance -= amount;
                    updateWalletDisplay();
                    closeModal('sendModal');
                    clearSendForm();
                    addActivity('transaction', 'Sent QRC', { 
                        type: 'sent', 
                        recipient, 
                        amount 
                    });
                    showSuccess('Transaction sent successfully!');
                    loadTransactions();
                } else {
                    showError(data.error || 'Transaction failed');
                }
            } catch (error) {
                console.error('Send error:', error);
                showError('Network error. Please try again.');
            }
        }

        function clearSendForm() {
            document.getElementById('recipientAddress').value = '';
            document.getElementById('sendAmount').value = '';
            document.getElementById('sendPassword').value = '';
            for (let i = 1; i <= 6; i++) {
                document.getElementById(`transaction2FA${i}`).value = '';
            }
        }

        async function getFaucet() {
            try {
                const response = await fetch('/api/faucet', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ address: walletState.address })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    walletState.balance += 100;
                    updateWalletDisplay();
                    addActivity('transaction', 'Received QRC', { 
                        type: 'received', 
                        from: 'Faucet', 
                        amount: 100 
                    });
                    showSuccess('100 QRC received from faucet!');
                    loadTransactions();
                } else {
                    showError(data.error || 'Faucet request failed. Try again tomorrow.');
                }
            } catch (error) {
                console.error('Faucet error:', error);
                showError('Network error. Please try again.');
            }
        }

        // Modal functions
        function showSendModal() {
            document.getElementById('sendModal').style.display = 'flex';
        }

        function showReceiveModal() {
            const modal = document.getElementById('receiveModal');
            modal.style.display = 'flex';
            
            if (receiveQrcode) {
                document.getElementById('receiveQrcode').innerHTML = '';
            }
            
            receiveQrcode = new QRCode(document.getElementById('receiveQrcode'), {
                text: walletState.address,
                width: 200,
                height: 200,
                colorDark: '#000000',
                colorLight: '#ffffff',
                correctLevel: QRCode.CorrectLevel.H
            });
            
            document.getElementById('receiveAddress').textContent = walletState.address;
        }

        function showQRModal() {
            const modal = document.getElementById('qrModal');
            modal.style.display = 'flex';
            
            if (qrcode) {
                document.getElementById('qrcode').innerHTML = '';
            }
            
            qrcode = new QRCode(document.getElementById('qrcode'), {
                text: walletState.address,
                width: 200,
                height: 200,
                colorDark: '#000000',
                colorLight: '#ffffff',
                correctLevel: QRCode.CorrectLevel.H
            });
            
            document.getElementById('qrAddress').textContent = walletState.address;
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function copyAddress() {
            navigator.clipboard.writeText(walletState.address);
            showSuccess('Address copied to clipboard!');
        }

        async function exportWallet() {
            const confirmed = confirm('This will export your wallet private key. Keep it secure!');
            if (!confirmed) return;
            
            try {
                const response = await fetch('/api/export-wallet', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ address: walletState.address })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    const exportData = {
                        address: walletState.address,
                        privateKey: data.privateKey,
                        timestamp: new Date().toISOString()
                    };
                    
                    const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `quantum-wallet-${walletState.address.substring(0, 8)}.json`;
                    a.click();
                    
                    addActivity('security', 'Wallet Exported', { message: 'Private key exported' });
                    showSuccess('Wallet exported successfully!');
                } else {
                    showError(data.error || 'Export failed');
                }
            } catch (error) {
                console.error('Export error:', error);
                showError('Network error. Please try again.');
            }
        }

        // Activity logging
        function addActivity(type, action, details = {}) {
            const activity = {
                id: Date.now(),
                type,
                action,
                details,
                timestamp: new Date().toISOString()
            };
            
            if (!walletState.activityLog) {
                walletState.activityLog = [];
            }
            
            walletState.activityLog.unshift(activity);
            
            // Keep only last 100 activities
            if (walletState.activityLog.length > 100) {
                walletState.activityLog = walletState.activityLog.slice(0, 100);
            }
            
            if (document.getElementById('activityTab').classList.contains('active')) {
                loadActivityHistory();
            }
        }

        function loadActivityHistory() {
            const container = document.getElementById('transactionList');
            
            if (!walletState.activityLog || walletState.activityLog.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 40px;">No activities yet</p>';
                return;
            }
            
            const activities = walletState.activityLog.map(activity => {
                const { icon, color, title, description } = formatActivity(activity);
                const time = new Date(activity.timestamp).toLocaleString();
                
                return `
                    <div class="transaction-item">
                        <div class="transaction-icon" style="background: ${color}20; color: ${color};">
                            ${icon}
                        </div>
                        <div class="transaction-details">
                            <div class="transaction-type">${title}</div>
                            <div class="transaction-address">${description}</div>
                            <div class="transaction-time" style="font-size: 12px; color: #666; margin-top: 4px;">${time}</div>
                        </div>
                        ${activity.type === 'transaction' ? `
                            <div class="transaction-amount">
                                <div class="transaction-value ${activity.details.type === 'received' ? 'positive' : 'negative'}">
                                    ${activity.details.type === 'received' ? '+' : '-'}${activity.details.amount} QRC
                                </div>
                                <div class="transaction-usd">≈ ${(activity.details.amount * 0.001).toFixed(2)} USD</div>
                            </div>
                        ` : ''}
                    </div>
                `;
            }).join('');
            
            container.innerHTML = activities;
        }

        function formatActivity(activity) {
            let icon, color, title, description;
            
            switch (activity.type) {
                case 'transaction':
                    if (activity.details.type === 'sent') {
                        icon = '📤';
                        color = '#ff6b6b';
                        title = 'Sent QRC';
                        description = `To: ${activity.details.recipient.substring(0, 12)}...`;
                    } else if (activity.details.type === 'received') {
                        icon = '📥';
                        color = '#00ff88';
                        title = 'Received QRC';
                        description = activity.details.from ? `From: ${activity.details.from.substring(0, 12)}...` : 'From: Faucet';
                    }
                    break;
                    
                case 'security':
                    icon = '🔒';
                    color = '#ffa500';
                    title = activity.action;
                    description = activity.details.message || '';
                    break;
                    
                case 'login':
                    icon = activity.action === 'Login' ? '🔓' : '🔒';
                    color = activity.action === 'Login' ? '#00ff88' : '#999';
                    title = activity.action;
                    description = activity.details.device ? `Device: ${activity.details.device.substring(0, 30)}...` : '';
                    break;
                    
                case 'settings':
                    icon = '⚙️';
                    color = '#3498db';
                    title = activity.action;
                    description = activity.details.message || '';
                    break;
                    
                default:
                    icon = '📌';
                    color = '#999';
                    title = activity.action;
                    description = activity.details.message || '';
            }
            
            return { icon, color, title, description };
        }

        async function loadTransactions() {
            try {
                const response = await fetch(`/api/transactions/${walletState.address}`);
                const data = await response.json();
                
                if (data.success && data.transactions) {
                    walletState.transactions = data.transactions;
                    
                    // Add transactions to activity log
                    data.transactions.forEach(tx => {
                        const exists = walletState.activityLog.some(a => 
                            a.type === 'transaction' && 
                            a.details.txHash === tx.hash
                        );
                        
                        if (!exists) {
                            addActivity('transaction', tx.from === walletState.address ? 'Sent QRC' : 'Received QRC', {
                                type: tx.from === walletState.address ? 'sent' : 'received',
                                recipient: tx.to,
                                from: tx.from,
                                amount: tx.amount,
                                txHash: tx.hash
                            });
                        }
                    });
                }
            } catch (error) {
                console.error('Load transactions error:', error);
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initBackground();
            setupTwoFAInputs();
            
            // Password strength checker
            const newPasswordInput = document.getElementById('newPassword');
            if (newPasswordInput) {
                newPasswordInput.addEventListener('input', function() {
                    checkPasswordStrength(this.value);
                });
            }
            
            // Close modals on background click
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.style.display = 'none';
                    }
                });
            });
            
            // Handle Enter key
            document.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    if (document.getElementById('loginForm').style.display !== 'none') {
                        login();
                    } else if (document.getElementById('createWalletForm').style.display !== 'none') {
                        createWallet();
                    }
                }
            });
        });
    </script>
</body>
</html>